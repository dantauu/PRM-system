{"version":3,"file":"js/71.7edd11dd8ee3a7aaf7b7.js","mappings":"+OAoCA,QA1BsB,WAElB,IAAIA,GAAa,IAAAC,QAAO,MAEpBC,GAAU,QAAQ,IAAgBC,OAClCC,GAAmB,QAAQ,IAA8BA,kBAmB7D,OAhBA,IAAAC,kBAAgB,WACZ,GAAKL,EAAWM,QAAhB,CAGA,IAAIC,EAAe,WAAc,IAAIC,EAAIC,EAAI,OAAOL,EAA0G,QAAxFK,EAAmC,QAA7BD,EAAKR,EAAWM,eAA4B,IAAPE,OAAgB,EAASA,EAAGE,mBAAgC,IAAPD,EAAgBA,EAAK,IAAM,EAGjM,OAFAF,IACAI,OAAOC,iBAAiB,SAAUL,GAC3B,WAAc,OAAOI,OAAOE,oBAAoB,SAAUN,EAAe,CAJhF,CAKJ,GAAG,CAACL,EAASE,KAQL,UAAM,WAAW,CAAEU,SAAU,EAAC,UAAM,IAAK,CAAEC,UAAW,aAAcC,MAAO,CAAEC,aAAc,KAAOH,SAAU,EAAC,SAAK,IAAK,CAAEI,IAAKlB,EAAYmB,GAAI,GAAIC,GAAI,EAAGN,SALxJZ,GAGG,SAAK,KAAc,CAAEmB,MAAOnB,EAAQoB,WAAa,IAAMpB,EAAQqB,UAAWC,SAAU,qBAAsGtB,QAASA,EAASuB,oBAAoB,SAAK,KAA0B,CAAC,GAAIC,aAAa,UAAM,WAAW,CAAEZ,SAAU,EAAC,SAAK,KAA0B,CAAEZ,QAASA,KAAY,SAAK,KAAuB,CAAEA,QAASA,UAFzY,SAAK,KAAsB,CAAC,MAIoJ,SAAK,IAAK,CAAEiB,GAAI,GAAIC,GAAI,EAAGN,UAAU,SAAK,KAA6B,CAAC,SAAW,SAAK,IAAK,CAAEC,UAAW,aAAcD,UAAU,SAAK,IAAK,CAAEK,GAAI,GAAIC,GAAI,EAAGN,UAAU,SAAK,KAA0B,CAAEZ,QAASA,UACpZ,C","sources":["webpack://prm-all/./src/pages/account/contact/work/ui.tsx"],"sourcesContent":["import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { ContactCloud, SkeletonContactCloud } from '@/entities/contact';\nimport { $$activeContact } from '@/entities/contact/model';\nimport { MemoEditContactButton, MemoLevelUpContactButton } from '@/features/contact';\nimport { MemoActiveStrategySelect } from '@/features/strategy';\nimport { MemoContactCommunication, MemoContactWorkHistoryTable } from '@/widgets/contact';\nimport { $$activeContactCommunications } from '@/widgets/contact/contact-work-history-table/model';\nimport { useUnit } from 'effector-react';\nimport { useLayoutEffect, useRef } from 'react';\nimport { Col, Row } from 'react-bootstrap';\nvar ContactWorkPage = function () {\n    // Refs\n    var contactRef = useRef(null);\n    // Effector\n    var contact = useUnit($$activeContact.$item);\n    var maxHeightChanged = useUnit($$activeContactCommunications.maxHeightChanged);\n    // console.log(\"contact в странице работа с контактом\", contact)\n    // Effects\n    useLayoutEffect(function () {\n        if (!contactRef.current) {\n            return;\n        }\n        var handleResize = function () { var _a, _b; return maxHeightChanged((_b = (_a = contactRef.current) === null || _a === void 0 ? void 0 : _a.offsetWidth) !== null && _b !== void 0 ? _b : 300); };\n        handleResize();\n        window.addEventListener('resize', handleResize);\n        return function () { return window.removeEventListener('resize', handleResize); };\n    }, [contact, maxHeightChanged]);\n    // Render\n    var renderContact = function () {\n        if (!contact) {\n            return _jsx(SkeletonContactCloud, {});\n        }\n        return (_jsx(ContactCloud, { title: contact.first_name + ' ' + contact.last_name, subtitle: \"\\u0420\\u0430\\u0431\\u043E\\u0442\\u0430 \\u0441 \\u043A\\u043E\\u043D\\u0442\\u0430\\u043A\\u0442\\u043E\\u043C\", contact: contact, strategySelectSlot: _jsx(MemoActiveStrategySelect, {}), buttonsSlot: _jsxs(_Fragment, { children: [_jsx(MemoLevelUpContactButton, { contact: contact }), _jsx(MemoEditContactButton, { contact: contact })] }) }));\n    };\n    return (_jsxs(_Fragment, { children: [_jsxs(Row, { className: \"custom-row\", style: { marginBottom: '0' }, children: [_jsx(Col, { ref: contactRef, xs: 12, lg: 6, children: renderContact() }), _jsx(Col, { xs: 12, lg: 6, children: _jsx(MemoContactWorkHistoryTable, {}) })] }), _jsx(Row, { className: \"custom-row\", children: _jsx(Col, { xs: 12, lg: 6, children: _jsx(MemoContactCommunication, { contact: contact }) }) })] }));\n};\nexport default ContactWorkPage;\n"],"names":["contactRef","useRef","contact","$item","maxHeightChanged","useLayoutEffect","current","handleResize","_a","_b","offsetWidth","window","addEventListener","removeEventListener","children","className","style","marginBottom","ref","xs","lg","title","first_name","last_name","subtitle","strategySelectSlot","buttonsSlot"],"sourceRoot":""}