(self.webpackChunkprm_all=self.webpackChunkprm_all||[]).push([[144],{8144:(t,e,n)=>{"use strict";n.d(e,{S0:()=>St,Ew:()=>zt,I_:()=>Pt});var r=n(7294);function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(){return i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i.apply(this,arguments)}function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function l(t,e,n){return l=s()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&f(o,n.prototype),o},l.apply(null,arguments)}function p(t){var e="function"==typeof Map?new Map:void 0;return p=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return l(t,arguments,c(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),f(r,t)},p(t)}function d(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function v(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}}(t,e)||y(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){if(t){if("string"==typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(t,e):void 0}}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var h=n(5697),b=n.n(h);const m=r.createContext({canvas:null,ports:null,nodes:null});function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach((function(e){O(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function S(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return A(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var N={capture:!1,once:!1,passive:!1};const R=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N,n=S(function(t){var e=(0,r.useRef)(t);e.current=t;var n=(0,r.useCallback)((function(t){if("function"!=typeof t)throw new Error("the argument supplied to the 'setHandler' function should be of type function");e.current=t}));return[e,n]}(arguments.length>2?arguments[2]:void 0),2),o=n[0],i=n[1],u=j(j({},N),e||{});return(0,r.useEffect)((function(){var e=function(t){o.current&&o.current(t)};return o.current&&t&&window.addEventListener(t,e,u),function(){t&&window.removeEventListener(t,e,u)}}),[t,e]),i};n(1296);var E=n(3096),k=n.n(E),I=Object.create(null);I.enableHighAccuracy=!1,I.timeout=4294967295,I.maximumAge=0,Object.freeze(I);const D="object"===("undefined"==typeof window?"undefined":_(window)),P="undefined"!=typeof process&&process.env&&!1,C=function(t){var e,n="".concat(t,"Storage");return D&&(e=n,!("undefined"!=typeof window&&e in window))&&console.warn("".concat(n," is not supported")),function(t,e){if(!D)return P&&console.warn("Please be aware that ".concat(n," could not be available during SSR")),[JSON.stringify(e),function(){}];var o=window[n],i=S((0,r.useState)(function(t){try{return JSON.parse(t)}catch(t){return null}}(o.getItem(t)||JSON.stringify(e))),2),u=i[0],a=i[1];return(0,r.useEffect)((function(){o.setItem(t,JSON.stringify(u))}),[t,u]),[u,a]}};C("local"),C("session");var T=n(2307),L=n.n(T),x=n(3967),M=n.n(x),z=function(t){var e=t.children,n=t.portRefs,o=t.nodeRefs,u=t.className,a=d(t,["children","portRefs","nodeRefs","className"]),c=v((0,r.useState)(null),2),f=c[0],s=c[1],l=(0,r.useRef)(),p=M()("bi bi-diagram",u),y=function(t){if(t){var e=t.getBoundingClientRect();L()(e,f)||s(e)}};return(0,r.useEffect)((function(){return y(l.current)}),[l.current]),R("scroll",null,(function(){return y(l.current)})),function(t){R("resize",null,t)}((function(){return y(l.current)})),r.createElement("div",i({className:p,ref:l},a),r.createElement("div",{className:"bi-diagram-canvas"},r.createElement(m.Provider,{value:{canvas:f,ports:n,nodes:o,_nodes:{}}},e)))};z.propTypes={portRefs:b().shape({}),nodeRefs:b().shape({}),className:b().string},z.defaultProps={portRefs:{},nodeRefs:{},className:""};const F=r.memo(z);var $=b().shape({input:b().string.isRequired,output:b().string.isRequired,label:b().node,readonly:b().bool,className:b().string}),V=b().oneOf(["right","left","top","bottom"]),U=b().shape({id:b().string.isRequired,canLink:b().func,alignment:V}),q=b().shape({id:b().string.isRequired,coordinates:b().arrayOf(b().number).isRequired,content:b().oneOfType([b().elementType,b().node]),inputs:b().arrayOf(U),outputs:b().arrayOf(U),type:b().oneOf(["default"]),render:b().elementType,className:b().string}),B=b().shape({nodes:b().arrayOf(q).isRequired,links:b().arrayOf($)});const Y=function(t,e){return{left:t[0],top:t[1],cursor:e?void 0:"move"}};var W={ref:void 0,throttleBy:0},K=function(t){return[t.clientX,t.clientY]},G=function(t){return(0,r.useCallback)((function(e){t.current&&e===t.current||(t.current=e)}),[t.current])};const H=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,e=t.ref||(0,r.useRef)(),n=(0,r.useRef)(),o=(0,r.useRef)(),i=(0,r.useRef)(),u=(0,r.useRef)({isDragging:!1,start:null,end:null,offset:null}).current,c=(0,r.useCallback)((function(t){!u.isDragging&&e.current.contains(t.target)&&(u.isDragging=!0,u.end=null,u.offset=null,u.start=K(t),n.current&&n.current(t,a({},u)))}),[e.current,u,n.current]),f=(0,r.useCallback)(k()((function(t){u.isDragging&&(u.offset=[u.start[0]-t.clientX,u.start[1]-t.clientY],o.current&&o.current(t,a({},u)))}),t.throttleBy),[e.current,u,o.current]),s=(0,r.useCallback)((function(t){u.isDragging&&(u.isDragging=!1,u.end=K(t),i.current&&i.current(t,a({},u)))}),[e.current,u,i.current]);return(0,r.useEffect)((function(){var t=function(t){return c(t)},n=function(t){return f(t)},r=function(t){return s(t)};return e.current&&(e.current.addEventListener("mousedown",t),document.addEventListener("mousemove",n),document.addEventListener("mouseup",r)),function(){e.current&&(e.current.removeEventListener("mousedown",t),document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",r))}}),[e.current]),{ref:e,onDragStart:G(n),onDrag:G(o),onDragEnd:G(i)}},J=function(){return(0,r.useContext)(m).canvas},X=function(t,e){return[t[0]-e[0],t[1]-e[1]]};var Q=function(t){var e=t.id,n=t.canLink,o=t.alignment,u=t.onDragNewSegment,a=t.onSegmentFail,c=t.onSegmentConnect,f=t.onMount,s=t.type,l=d(t,["id","canLink","alignment","onDragNewSegment","onSegmentFail","onSegmentConnect","onMount","type"]),p=J(),v=H(),y=v.ref,g=v.onDrag,h=v.onDragEnd;return g((function(t,n){if(u){t.stopImmediatePropagation(),t.stopPropagation();var r=X(n.start,[p.x,p.y]),i=X([t.clientX,t.clientY],[p.x,p.y]);u(e,r,i,o)}})),h((function(t){var r=t.target.getAttribute("data-port-id");if(r&&t.target!==y.current&&n(e,r,s)&&c){var o="input"===s?[e,r,s]:[r,e,s];c.apply(void 0,o)}else a&&a(e,s)})),(0,r.useEffect)((function(){y.current&&f&&f(e,y.current)}),[y.current]),r.createElement("div",i({className:"bi bi-diagram-port","data-port-id":e,ref:y},l))};Q.propTypes={id:b().oneOfType([b().string,b().symbol]).isRequired,type:b().oneOf(["input","output"]).isRequired,onDragNewSegment:b().func,onSegmentFail:b().func,onSegmentConnect:b().func,canLink:b().func,onMount:b().func,alignment:b().oneOf(["right","left","top","bottom"])},Q.defaultProps={onDragNewSegment:void 0,onSegmentFail:void 0,onSegmentConnect:void 0,canLink:function(){return!0},onMount:void 0,alignment:void 0};const Z=r.memo(Q),tt=function(t,e){var n=t.registerPort,o=t.onDragNewSegment,u=t.onSegmentFail,a=t.onSegmentConnect;return function(t){return r.createElement(Z,i({},t,{onMount:n,onDragNewSegment:o,onSegmentFail:u,onSegmentConnect:a,type:e,key:t.id}))}},et=function(t,e){return t[e]&&t[e].length>0?t[e].map((function(t){return t.id})):[]};var nt=function(t){var e=t.id,n=t.content,i=t.coordinates,u=t.type,a=t.inputs,c=t.outputs,f=t.data,s=t.onPositionChange,l=t.onPortRegister,p=t.onNodeRemove,d=t.onDragNewSegment,v=t.onMount,y=t.onSegmentFail,g=t.onSegmentConnect,h=t.render,b=t.className,_=t.disableDrag,O=function(t,e,n){var o=(0,r.useContext)(m),i=o.canvas,u=o.ports;return(0,r.useCallback)((function(r,o){i&&(t||e)&&u&&!u[r]&&n(r,o)}),[!!i,!!u,t,e])}(a,c,l),w=H({throttleBy:14}),j=w.ref,S=w.onDragStart,A=w.onDrag,N=(0,r.useRef)(i);_||(S((function(){N.current=i})),A((function(t,n){if(s){t.stopImmediatePropagation(),t.stopPropagation();var r=[N.current[0]-n.offset[0],N.current[1]-n.offset[1]];s(e,r)}}))),function(t,e,n,o){(0,r.useEffect)((function(){return function(){if(t){var r={inputs:e,outputs:n},i=et(r,"inputs"),u=et(r,"outputs");t(o,i,u)}}}),[])}(p,a,c,e),function(t,e,n){var o=(0,r.useContext)(m),i=o.canvas,u=o.nodes;(0,r.useEffect)((function(){e&&t.current&&i&&u&&!u[n]&&e(n,t.current)}),[t.current,e,!!i,!!u,n])}(j,v,e);var R=(0,r.useMemo)((function(){return M()("bi bi-diagram-node",o({},"bi-diagram-node-".concat(u),!!u&&!h),b)}),[u,b]),E={registerPort:O,onDragNewSegment:d,onSegmentFail:y,onSegmentConnect:g},k=a.map(tt(E,"input")),I=c.map(tt(E,"output")),D={id:e,render:h,content:n,type:u,inputs:k,outputs:I,data:f,className:b};return r.createElement("div",{className:R,ref:j,style:Y(i,_)},h&&"function"==typeof h&&h(D),!h&&r.createElement(r.Fragment,null,n,r.createElement("div",{className:"bi-port-wrapper"},r.createElement("div",{className:"bi-input-ports"},k),r.createElement("div",{className:"bi-output-ports"},I))))};nt.propTypes={id:b().oneOfType([b().string]).isRequired,coordinates:b().arrayOf(b().number).isRequired,content:b().oneOfType([b().elementType,b().node]),inputs:b().arrayOf(U),outputs:b().arrayOf(U),type:b().oneOf(["default"]),data:b().shape({}),render:b().func,onPositionChange:b().func,onMount:b().func,onPortRegister:b().func,onNodeRemove:b().func,onDragNewSegment:b().func,onSegmentFail:b().func,onSegmentConnect:b().func,className:b().string,disableDrag:b().bool},nt.defaultProps={type:"default",content:"",inputs:[],outputs:[],data:{},onPositionChange:void 0,render:void 0,onMount:void 0,onPortRegister:void 0,onNodeRemove:void 0,onDragNewSegment:void 0,onSegmentFail:void 0,onSegmentConnect:void 0,className:"",disableDrag:!1};const rt=r.memo(nt);var ot=n(6945),it=n.n(ot);var ut=function(t){var e=t.nodes,n=t.onPortRegister,o=t.onNodeRegister,u=t.onNodeRemove,a=t.onDragNewSegment,c=t.onSegmentFail,f=t.onSegmentConnect,s=t.onChange,l=function(t,n){if(s){var r=function(t,e,n){var r=it()(n,["id",t]);return r>-1&&!n[r].disableDrag&&(n[r].coordinates=e),n}(t,n,e);s(r)}};return e&&e.length>0&&e.map((function(t){var e=t.data,s=d(t,["data"]);return r.createElement(rt,i({},s,{data:e,onPositionChange:l,onPortRegister:n,onNodeRemove:u,onDragNewSegment:a,onSegmentFail:c,onSegmentConnect:f,onMount:o,key:s.id}))}))};ut.propTypes={nodes:b().arrayOf(q),onChange:b().func,onNodeRegister:b().func,onPortRegister:b().func,onNodeRemove:b().func,onDragNewSegment:b().func,onSegmentFail:b().func,onSegmentConnect:b().func},ut.defaultProps={nodes:[],onChange:void 0,onNodeRegister:void 0,onPortRegister:void 0,onNodeRemove:void 0,onDragNewSegment:void 0,onSegmentFail:void 0,onSegmentConnect:void 0};const at=r.memo(ut),ct=function(t,e,n,r){if(t&&"node"===t.type&&n[t.entity.id]){var o=n[t.entity.id].getBoundingClientRect();return[t.entity.coordinates[0]+o.width/2,t.entity.coordinates[1]+o.height/2]}if(e&&e[t.entity.id]){var i=e[t.entity.id].getBoundingClientRect();return X([i.x+i.width/2,i.y+i.height/2],[r.x,r.y])}};var ft=function(t){return[Math.floor(t[0]),Math.floor(t[1])]},st=function(t){return!t||"left"!==t&&"right"!==t?0:"left"===t?-60:60},lt=function(t){return!t||"top"!==t&&"bottom"!==t?0:"top"===t?60:-60};const pt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{type:"curve"};if(!t||!e)return"";var r=ft(t),o=ft(e),i="".concat(r[0],", ").concat(r[1]),u="".concat(o[0],", ").concat(o[1]);if("bezier"===n.type&&(n.inputAlignment||n.outputAlignment)){var a=u,c=i;if(n.inputAlignment){var f=r[0]+st(n.inputAlignment),s=r[1]+lt(n.inputAlignment);c="".concat(f,", ").concat(s)}if(n.outputAlignment){var l=o[0]+st(n.outputAlignment),p=o[1]+lt(n.outputAlignment);a="".concat(l,", ").concat(p)}return"M ".concat(i," C ").concat(c," ").concat(a,", ").concat(u)}var d="".concat(o[0],", ").concat(r[1]);return"M ".concat(i," Q ").concat(d,", ").concat(u)};var dt=function(t){var e=t.label,n=t.position;return r.createElement("foreignObject",{x:n[0],y:n[1]},r.createElement("div",{className:"bi-diagram-link-label"},e))};dt.propTypes={label:b().string.isRequired,position:b().arrayOf(b().number).isRequired};const vt=r.memo(dt);var yt=function(t){var e=t.input,n=t.output,o=t.link,i=t.onDelete,u=(0,r.useRef)(),a=v((0,r.useState)(),2),c=a[0],f=a[1],s=function(){var t=J(),e=(0,r.useContext)(m).ports;return{canvas:t,nodeRefs:(0,r.useContext)(m).nodes,portRefs:e}}(),l=s.canvas,p=s.portRefs,d=s.nodeRefs,y=(0,r.useMemo)((function(){return ct(e,p,d,l)}),[e,p,d,l]),g=(0,r.useMemo)((function(){return M()("bi-diagram-link",{"readonly-link":o.readonly},o.className)}),[o.readonly,o.className]),h=(0,r.useMemo)((function(){return ct(n,p,d,l)}),[n,p,d,l]),b={type:"port"===e.type||"port"===n.type?"bezier":"curve",inputAlignment:e.entity.alignment||null,outputAlignment:n.entity.alignment||null},_=(0,r.useMemo)((function(){return pt(y,h,b)}),[y,h]);(0,r.useEffect)((function(){if(o.label&&y&&h&&u.current){var t=function(t){if(t.getTotalLength&&t.getPointAtLength){var e=t.getTotalLength()/2,n=t.getPointAtLength(e);return[n.x,n.y]}return[0,0]}(u.current);f(t)}}),[u.current,o.label,y,h]);var O=(0,r.useCallback)((function(){i&&!o.readonly&&i(o)}),[o.readonly,i]);return r.createElement("g",{className:g},!o.readonly&&r.createElement("path",{d:_,className:"bi-link-ghost",onDoubleClick:O}),r.createElement("path",{d:_,ref:u,className:"bi-link-path",onDoubleClick:O}),o.label&&c&&r.createElement(vt,{position:c,label:o.label}))},gt=b().exact({type:b().oneOf(["node","port"]),entity:b().oneOfType([U,q])});yt.propTypes={link:$.isRequired,input:gt.isRequired,output:gt.isRequired,onDelete:b().func},yt.defaultProps={onDelete:void 0};const ht=r.memo(yt);var bt=function(t){var e=t.from,n=t.to,o=t.alignment,i={type:"bezier",inputAlignment:o},u=(0,r.useMemo)((function(){return pt(e,n,i)}),[e,n,o]);return r.createElement("g",{className:"bi-diagram-segment"},r.createElement("path",{d:u}),r.createElement("circle",{r:"6.5",cx:n[0],cy:n[1]}))};bt.propTypes={from:b().arrayOf(b().number).isRequired,to:b().arrayOf(b().number).isRequired,alignment:V},bt.defaultProps={alignment:void 0};const mt=r.memo(bt),_t=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"node";if(n&&e&&0!==e.length){for(var o,i=0;i<e.length&&!o;){var u=e[i];o=u.id===n?{type:r,entity:a({},u)}:t(u.inputs,n,"port")||t(u.outputs,n,"port"),i+=1}return o}};var Ot=function(t){var e=t.nodes,n=t.segment,o=t.onChange,i=t.links,u=(0,r.useCallback)((function(t){if(i.length>0&&o){var e=function(t,e){return e.filter((function(e){return!L()(e,t)}))}(t,i);o(e)}}),[i,o]);return r.createElement("svg",{className:"bi bi-link-canvas-layer"},i&&i.length>0&&i.map((function(t){return r.createElement(ht,{link:t,input:_t(e,t.input),output:_t(e,t.output),onDelete:u,key:"".concat(t.input,"-").concat(t.output)})})),n&&r.createElement(mt,n))};Ot.propTypes={nodes:b().arrayOf(q),links:b().arrayOf($),segment:b().exact({id:b().string,from:b().arrayOf(b().number),to:b().arrayOf(b().number),alignment:V}),onChange:b().func},Ot.defaultProps={nodes:[],links:[],segment:void 0,onChange:void 0};const wt=r.memo(Ot);var jt=function(t){var e=t.schema,n=t.onChange,o=d(t,["schema","onChange"]),u=v((0,r.useState)(),2),a=u[0],c=u[1],f=(0,r.useRef)({}).current,s=(0,r.useRef)({}).current,l=(0,r.useCallback)((function(t,e,n){delete s[t],e.forEach((function(t){return delete f[t]})),n.forEach((function(t){return delete f[t]}))}),[]),p=(0,r.useCallback)((function(t,e,n,r){c({id:"segment-".concat(t),from:e,to:n,alignment:r})}),[]),h=(0,r.useCallback)((function(){c(void 0)}),[]);return r.createElement(F,i({portRefs:f,nodeRefs:s},o),r.createElement(at,{nodes:e.nodes,onChange:function(t){n&&n({nodes:t})},onNodeRegister:function(t,e){s[t]=e},onPortRegister:function(t,e){f[t]=e},onNodeRemove:l,onDragNewSegment:p,onSegmentFail:h,onSegmentConnect:function(t,r){var o,i=[].concat(function(t){if(Array.isArray(t))return g(t)}(o=e.links||[])||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(o)||y(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{input:t,output:r}]);n&&n({links:i}),c(void 0)}}),r.createElement(wt,{nodes:e.nodes,links:e.links,segment:a,onChange:function(t){n&&n({links:t})}}))};jt.propTypes={schema:B,onChange:b().func},jt.defaultProps={schema:{nodes:[],links:[]},onChange:void 0};const St=r.memo(jt);var At="bi-diagram/useSchema/change",Nt="bi-diagram/useSchema/node/add",Rt="bi-diagram/useSchema/node/remove",Et="bi-diagram/useSchema/connect";const kt=function(t){return t.id||(t.id="node-".concat(Math.random().toString(36).substr(2,9))),t},It=function(t,e){switch(e.type){case At:return{nodes:e.payload.nodes||t.nodes||[],links:e.payload.links||t.links||[]};case Nt:return t.nodes&&t.nodes.push(e.payload.node),{nodes:t.nodes||[],links:t.links||[]};case Rt:var n=t.links||[];if(t.nodes){var r=it()(t.nodes,["id",e.payload.nodeId]),o=et(t.nodes[r],"inputs"),i=et(t.nodes[r],"outputs");n=n.filter((function(t){return!o.includes(t.input)&&!i.includes(t.output)})),t.nodes.splice(r,1)}return{nodes:t.nodes||[],links:n};case Et:return t.links&&t.links.push(e.payload.link),{nodes:t.nodes||[],links:t.links||[]};default:return t}};var Dt={nodes:[],links:[]};const Pt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt,e=v((0,r.useReducer)(It,t),2),n=e[0],o=e[1],i=(0,r.useCallback)((function(t){var e=t.nodes,n=t.links;return o({type:At,payload:{nodes:e,links:n}})}),[]),u=(0,r.useCallback)((function(t){return o({type:Nt,payload:{node:kt(t)}})}),[]),a=(0,r.useCallback)((function(t){return o({type:Rt,payload:{nodeId:t.id}})}),[]),c=(0,r.useCallback)((function(t,e){return o({type:Et,payload:{link:{input:t,output:e}}})}),[]);return[n,Object.freeze({onChange:i,addNode:u,removeNode:a,connect:c})]};var Ct=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(o,t);var e,n,r=(e=o,n=s(),function(){var t,r=c(e);if(n){var o=c(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return function(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,t)});function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this)).name="Diagram Schema Error",t}return o}(p(Error));const Tt=Object.freeze({MUST_HAVE_NODES:function(){return new Ct("A valid schema should have the required property 'nodes'")},INVALID_ID:function(){return new Ct("A valid node should have the required and unique property 'id'")},INVALID_COORDS:function(t){return new Ct("".concat(t," node 'coordinates' property is not valid."))},INVALID_CONTENT:function(t){return new Ct("".concat(t," node 'content' property is not valid."))},INVALID_PORT_ID:function(){return new Ct("A valid port should have a unique id")},INVALID_PORT_CAN_LINK:function(t){return new Ct("".concat(t," port 'canLink' property is not valid."))},INVALID_PORT_ALIGNMENT:function(t){return new Ct("".concat(t," port 'alignment' property is not valid."))},INVALID_INPUTS_ARRAY:function(t){return new Ct("".concat(t," node 'input' property is not valid."))},INVALID_NODES_ARRAY:function(){return new Ct("The 'nodes' property is not a valid array")},INVALID_LINKS_ARRAY:function(){return new Ct("The 'links' property is not a valid array")},LINK_INVALID_INPUT_OUTPUT:function(){return new Ct("Link properties 'input' and 'output' are required string")},LINK_INVALID_READONLY:function(){return new Ct("Link property 'readonly' should be a boolean value")}});var Lt=function(t){if(!t.id)throw Tt.INVALID_PORT_ID();if(t.canLink&&"function"!=typeof t.canLink)throw Tt.INVALID_PORT_CAN_LINK(t.id);if(t.alignment&&!["right","left","top","bottom"].includes(t.alignment))throw Tt.INVALID_PORT_ALIGNMENT(t.id);return!0},xt=function(t){if(!t.id)throw Tt.INVALID_ID();if(!t.coordinates||!Array.isArray(t.coordinates)||2!==t.coordinates.length)throw Tt.INVALID_COORDS(t.id);if(t.content&&"string"!=typeof t.content&&"function"!=typeof t.content&&!(0,r.isValidElement)(t.content))throw Tt.INVALID_CONTENT(t.id);if(t.inputs){if(!Array.isArray(t.inputs))throw Tt.INVALID_INPUTS_ARRAY(t.id);t.inputs.forEach(Lt)}if(t.outputs){if(!Array.isArray(t.outputs))throw Tt.INVALID_INPUTS_ARRAY(t.id);t.outputs.forEach(Lt)}return!0},Mt=function(t){if(!t.input||!t.output||"string"!=typeof t.input||"string"!=typeof t.output)throw Tt.LINK_INVALID_INPUT_OUTPUT();if(t.readonly&&"boolean"!=typeof t.readonly)throw Tt.LINK_INVALID_READONLY();return!0};const zt=function(t){var e=a({},t);return e.nodes||(e.nodes=[]),e.links||(e.links=[]),e.nodes.forEach(kt),function(t){var e=t.links,n=t.nodes;if(!n)throw Tt.MUST_HAVE_NODES();(function(t){if(!Array.isArray(t))throw Tt.INVALID_LINKS_ARRAY();return t.forEach(Mt),!0})(e)&&function(t){if(!Array.isArray(t))throw Tt.INVALID_NODES_ARRAY();t.forEach(xt)}(n)}(e),e}},1296:(t,e,n)=>{var r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,u=/^0o[0-7]+$/i,a=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,f="object"==typeof self&&self&&self.Object===Object&&self,s=c||f||Function("return this")(),l=Object.prototype.toString,p=Math.max,d=Math.min,v=function(){return s.Date.now()};function y(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function g(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==l.call(t)}(t))return NaN;if(y(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=y(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(r,"");var n=i.test(t);return n||u.test(t)?a(t.slice(2),n?2:8):o.test(t)?NaN:+t}t.exports=function(t,e,n){var r,o,i,u,a,c,f=0,s=!1,l=!1,h=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function b(e){var n=r,i=o;return r=o=void 0,f=e,u=t.apply(i,n)}function m(t){var n=t-c;return void 0===c||n>=e||n<0||l&&t-f>=i}function _(){var t=v();if(m(t))return O(t);a=setTimeout(_,function(t){var n=e-(t-c);return l?d(n,i-(t-f)):n}(t))}function O(t){return a=void 0,h&&r?b(t):(r=o=void 0,u)}function w(){var t=v(),n=m(t);if(r=arguments,o=this,c=t,n){if(void 0===a)return function(t){return f=t,a=setTimeout(_,e),s?b(t):u}(c);if(l)return a=setTimeout(_,e),b(c)}return void 0===a&&(a=setTimeout(_,e)),u}return e=g(e)||0,y(n)&&(s=!!n.leading,i=(l="maxWait"in n)?p(g(n.maxWait)||0,e):i,h="trailing"in n?!!n.trailing:h),w.cancel=function(){void 0!==a&&clearTimeout(a),f=0,r=c=o=a=void 0},w.flush=function(){return void 0===a?u:O(v())},w}},6945:(t,e,n)=>{t=n.nmd(t);var r="__lodash_hash_undefined__",o=1,i=2,u=1/0,a=9007199254740991,c="[object Arguments]",f="[object Array]",s="[object Boolean]",l="[object Date]",p="[object Error]",d="[object Function]",v="[object GeneratorFunction]",y="[object Map]",g="[object Number]",h="[object Object]",b="[object Promise]",m="[object RegExp]",_="[object Set]",O="[object String]",w="[object Symbol]",j="[object WeakMap]",S="[object ArrayBuffer]",A="[object DataView]",N=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,R=/^\w*$/,E=/^\./,k=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,I=/^\s+|\s+$/g,D=/\\(\\)?/g,P=/^[-+]0x[0-9a-f]+$/i,C=/^0b[01]+$/i,T=/^\[object .+?Constructor\]$/,L=/^0o[0-7]+$/i,x=/^(?:0|[1-9]\d*)$/,M={};M["[object Float32Array]"]=M["[object Float64Array]"]=M["[object Int8Array]"]=M["[object Int16Array]"]=M["[object Int32Array]"]=M["[object Uint8Array]"]=M["[object Uint8ClampedArray]"]=M["[object Uint16Array]"]=M["[object Uint32Array]"]=!0,M[c]=M[f]=M[S]=M[s]=M[A]=M[l]=M[p]=M[d]=M[y]=M[g]=M[h]=M[m]=M[_]=M[O]=M[j]=!1;var z=parseInt,F="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,$="object"==typeof self&&self&&self.Object===Object&&self,V=F||$||Function("return this")(),U=e&&!e.nodeType&&e,q=U&&t&&!t.nodeType&&t,B=q&&q.exports===U&&F.process,Y=function(){try{return B&&B.binding("util")}catch(t){}}(),W=Y&&Y.isTypedArray;function K(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(e(t[n],n,t))return!0;return!1}function G(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function H(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function J(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var X,Q,Z,tt=Array.prototype,et=Function.prototype,nt=Object.prototype,rt=V["__core-js_shared__"],ot=(X=/[^.]+$/.exec(rt&&rt.keys&&rt.keys.IE_PROTO||""))?"Symbol(src)_1."+X:"",it=et.toString,ut=nt.hasOwnProperty,at=nt.toString,ct=RegExp("^"+it.call(ut).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ft=V.Symbol,st=V.Uint8Array,lt=nt.propertyIsEnumerable,pt=tt.splice,dt=(Q=Object.keys,Z=Object,function(t){return Q(Z(t))}),vt=Math.max,yt=Vt(V,"DataView"),gt=Vt(V,"Map"),ht=Vt(V,"Promise"),bt=Vt(V,"Set"),mt=Vt(V,"WeakMap"),_t=Vt(Object,"create"),Ot=Ht(yt),wt=Ht(gt),jt=Ht(ht),St=Ht(bt),At=Ht(mt),Nt=ft?ft.prototype:void 0,Rt=Nt?Nt.valueOf:void 0,Et=Nt?Nt.toString:void 0;function kt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function It(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Dt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Pt(t){var e=-1,n=t?t.length:0;for(this.__data__=new Dt;++e<n;)this.add(t[e])}function Ct(t){this.__data__=new It(t)}function Tt(t,e){for(var n=t.length;n--;)if(Xt(t[n][0],e))return n;return-1}function Lt(t,e){for(var n=0,r=(e=Bt(e,t)?[e]:zt(e)).length;null!=t&&n<r;)t=t[Gt(e[n++])];return n&&n==r?t:void 0}function xt(t,e){return null!=t&&e in Object(t)}function Mt(t,e,n,r,u){return t===e||(null==t||null==e||!re(t)&&!oe(e)?t!=t&&e!=e:function(t,e,n,r,u,a){var d=Zt(t),v=Zt(e),b=f,j=f;d||(b=(b=Ut(t))==c?h:b),v||(j=(j=Ut(e))==c?h:j);var N=b==h&&!G(t),R=j==h&&!G(e),E=b==j;if(E&&!N)return a||(a=new Ct),d||ue(t)?Ft(t,e,n,r,u,a):function(t,e,n,r,u,a,c){switch(n){case A:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case S:return!(t.byteLength!=e.byteLength||!r(new st(t),new st(e)));case s:case l:case g:return Xt(+t,+e);case p:return t.name==e.name&&t.message==e.message;case m:case O:return t==e+"";case y:var f=H;case _:var d=a&i;if(f||(f=J),t.size!=e.size&&!d)return!1;var v=c.get(t);if(v)return v==e;a|=o,c.set(t,e);var h=Ft(f(t),f(e),r,u,a,c);return c.delete(t),h;case w:if(Rt)return Rt.call(t)==Rt.call(e)}return!1}(t,e,b,n,r,u,a);if(!(u&i)){var k=N&&ut.call(t,"__wrapped__"),I=R&&ut.call(e,"__wrapped__");if(k||I){var D=k?t.value():t,P=I?e.value():e;return a||(a=new Ct),n(D,P,r,u,a)}}return!!E&&(a||(a=new Ct),function(t,e,n,r,o,u){var a=o&i,c=ae(t),f=c.length;if(f!=ae(e).length&&!a)return!1;for(var s=f;s--;){var l=c[s];if(!(a?l in e:ut.call(e,l)))return!1}var p=u.get(t);if(p&&u.get(e))return p==e;var d=!0;u.set(t,e),u.set(e,t);for(var v=a;++s<f;){var y=t[l=c[s]],g=e[l];if(r)var h=a?r(g,y,l,e,t,u):r(y,g,l,t,e,u);if(!(void 0===h?y===g||n(y,g,r,o,u):h)){d=!1;break}v||(v="constructor"==l)}if(d&&!v){var b=t.constructor,m=e.constructor;b==m||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof m&&m instanceof m||(d=!1)}return u.delete(t),u.delete(e),d}(t,e,n,r,u,a))}(t,e,Mt,n,r,u))}function zt(t){return Zt(t)?t:Kt(t)}function Ft(t,e,n,r,u,a){var c=u&i,f=t.length,s=e.length;if(f!=s&&!(c&&s>f))return!1;var l=a.get(t);if(l&&a.get(e))return l==e;var p=-1,d=!0,v=u&o?new Pt:void 0;for(a.set(t,e),a.set(e,t);++p<f;){var y=t[p],g=e[p];if(r)var h=c?r(g,y,p,e,t,a):r(y,g,p,t,e,a);if(void 0!==h){if(h)continue;d=!1;break}if(v){if(!K(e,(function(t,e){if(!v.has(e)&&(y===t||n(y,t,r,u,a)))return v.add(e)}))){d=!1;break}}else if(y!==g&&!n(y,g,r,u,a)){d=!1;break}}return a.delete(t),a.delete(e),d}function $t(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function Vt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!re(t)||function(t){return!!ot&&ot in t}(t))&&(ee(t)||G(t)?ct:T).test(Ht(t))}(n)?n:void 0}kt.prototype.clear=function(){this.__data__=_t?_t(null):{}},kt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},kt.prototype.get=function(t){var e=this.__data__;if(_t){var n=e[t];return n===r?void 0:n}return ut.call(e,t)?e[t]:void 0},kt.prototype.has=function(t){var e=this.__data__;return _t?void 0!==e[t]:ut.call(e,t)},kt.prototype.set=function(t,e){return this.__data__[t]=_t&&void 0===e?r:e,this},It.prototype.clear=function(){this.__data__=[]},It.prototype.delete=function(t){var e=this.__data__,n=Tt(e,t);return!(n<0||(n==e.length-1?e.pop():pt.call(e,n,1),0))},It.prototype.get=function(t){var e=this.__data__,n=Tt(e,t);return n<0?void 0:e[n][1]},It.prototype.has=function(t){return Tt(this.__data__,t)>-1},It.prototype.set=function(t,e){var n=this.__data__,r=Tt(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},Dt.prototype.clear=function(){this.__data__={hash:new kt,map:new(gt||It),string:new kt}},Dt.prototype.delete=function(t){return $t(this,t).delete(t)},Dt.prototype.get=function(t){return $t(this,t).get(t)},Dt.prototype.has=function(t){return $t(this,t).has(t)},Dt.prototype.set=function(t,e){return $t(this,t).set(t,e),this},Pt.prototype.add=Pt.prototype.push=function(t){return this.__data__.set(t,r),this},Pt.prototype.has=function(t){return this.__data__.has(t)},Ct.prototype.clear=function(){this.__data__=new It},Ct.prototype.delete=function(t){return this.__data__.delete(t)},Ct.prototype.get=function(t){return this.__data__.get(t)},Ct.prototype.has=function(t){return this.__data__.has(t)},Ct.prototype.set=function(t,e){var n=this.__data__;if(n instanceof It){var r=n.__data__;if(!gt||r.length<199)return r.push([t,e]),this;n=this.__data__=new Dt(r)}return n.set(t,e),this};var Ut=function(t){return at.call(t)};function qt(t,e){return!!(e=null==e?a:e)&&("number"==typeof t||x.test(t))&&t>-1&&t%1==0&&t<e}function Bt(t,e){if(Zt(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!ie(t))||R.test(t)||!N.test(t)||null!=e&&t in Object(e)}function Yt(t){return t==t&&!re(t)}function Wt(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}(yt&&Ut(new yt(new ArrayBuffer(1)))!=A||gt&&Ut(new gt)!=y||ht&&Ut(ht.resolve())!=b||bt&&Ut(new bt)!=_||mt&&Ut(new mt)!=j)&&(Ut=function(t){var e=at.call(t),n=e==h?t.constructor:void 0,r=n?Ht(n):void 0;if(r)switch(r){case Ot:return A;case wt:return y;case jt:return b;case St:return _;case At:return j}return e});var Kt=Jt((function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(ie(t))return Et?Et.call(t):"";var e=t+"";return"0"==e&&1/t==-u?"-0":e}(e);var n=[];return E.test(t)&&n.push(""),t.replace(k,(function(t,e,r,o){n.push(r?o.replace(D,"$1"):e||t)})),n}));function Gt(t){if("string"==typeof t||ie(t))return t;var e=t+"";return"0"==e&&1/t==-u?"-0":e}function Ht(t){if(null!=t){try{return it.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Jt(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var u=t.apply(this,r);return n.cache=i.set(o,u),u};return n.cache=new(Jt.Cache||Dt),n}function Xt(t,e){return t===e||t!=t&&e!=e}function Qt(t){return function(t){return oe(t)&&te(t)}(t)&&ut.call(t,"callee")&&(!lt.call(t,"callee")||at.call(t)==c)}Jt.Cache=Dt;var Zt=Array.isArray;function te(t){return null!=t&&ne(t.length)&&!ee(t)}function ee(t){var e=re(t)?at.call(t):"";return e==d||e==v}function ne(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=a}function re(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function oe(t){return!!t&&"object"==typeof t}function ie(t){return"symbol"==typeof t||oe(t)&&at.call(t)==w}var ue=W?function(t){return function(e){return t(e)}}(W):function(t){return oe(t)&&ne(t.length)&&!!M[at.call(t)]};function ae(t){return te(t)?function(t,e){var n=Zt(t)||Qt(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,o=!!r;for(var i in t)!e&&!ut.call(t,i)||o&&("length"==i||qt(i,r))||n.push(i);return n}(t):function(t){if(n=(e=t)&&e.constructor,e!==("function"==typeof n&&n.prototype||nt))return dt(t);var e,n,r=[];for(var o in Object(t))ut.call(t,o)&&"constructor"!=o&&r.push(o);return r}(t)}function ce(t){return t}t.exports=function(t,e,n){var r=t?t.length:0;if(!r)return-1;var a,c,f,s=null==n?0:(c=(a=(f=n)?(f=function(t){if("number"==typeof t)return t;if(ie(t))return NaN;if(re(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=re(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(I,"");var n=C.test(t);return n||L.test(t)?z(t.slice(2),n?2:8):P.test(t)?NaN:+t}(f))===u||f===-u?17976931348623157e292*(f<0?-1:1):f==f?f:0:0===f?f:0)%1,a==a?c?a-c:a:0);return s<0&&(s=vt(r+s,0)),function(t,e,n,r){for(var o=t.length,i=n+-1;++i<o;)if(e(t[i],i,t))return i;return-1}(t,function(t){return"function"==typeof t?t:null==t?ce:"object"==typeof t?Zt(t)?function(t,e){return Bt(t)&&Yt(e)?Wt(Gt(t),e):function(n){var r=function(t,e,n){var r=null==t?void 0:Lt(t,e);return void 0===r?void 0:r}(n,t);return void 0===r&&r===e?function(t,e){return null!=t&&function(t,e,n){for(var r,o=-1,i=(e=Bt(e,t)?[e]:zt(e)).length;++o<i;){var u=Gt(e[o]);if(!(r=null!=t&&n(t,u)))break;t=t[u]}return r||!!(i=t?t.length:0)&&ne(i)&&qt(u,i)&&(Zt(t)||Qt(t))}(t,e,xt)}(n,t):Mt(e,r,void 0,o|i)}}(t[0],t[1]):(n=function(t){for(var e=ae(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,Yt(o)]}return e}(e=t),1==n.length&&n[0][2]?Wt(n[0][0],n[0][1]):function(t){return t===e||function(t,e,n,r){var u=n.length,a=u;if(null==t)return!a;for(t=Object(t);u--;){var c=n[u];if(c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++u<a;){var f=(c=n[u])[0],s=t[f],l=c[1];if(c[2]){if(void 0===s&&!(f in t))return!1}else{var p,d=new Ct;if(!(void 0===p?Mt(l,s,r,o|i,d):p))return!1}}return!0}(t,0,n)}):Bt(r=t)?(u=Gt(r),function(t){return null==t?void 0:t[u]}):function(t){return function(e){return Lt(e,t)}}(r);var e,n,r,u}(e),s)}},2307:(t,e,n)=>{t=n.nmd(t);var r="__lodash_hash_undefined__",o=1,i=2,u=9007199254740991,a="[object Arguments]",c="[object Array]",f="[object AsyncFunction]",s="[object Boolean]",l="[object Date]",p="[object Error]",d="[object Function]",v="[object GeneratorFunction]",y="[object Map]",g="[object Number]",h="[object Null]",b="[object Object]",m="[object Promise]",_="[object Proxy]",O="[object RegExp]",w="[object Set]",j="[object String]",S="[object Undefined]",A="[object WeakMap]",N="[object ArrayBuffer]",R="[object DataView]",E=/^\[object .+?Constructor\]$/,k=/^(?:0|[1-9]\d*)$/,I={};I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I[a]=I[c]=I[N]=I[s]=I[R]=I[l]=I[p]=I[d]=I[y]=I[g]=I[b]=I[O]=I[w]=I[j]=I[A]=!1;var D="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,P="object"==typeof self&&self&&self.Object===Object&&self,C=D||P||Function("return this")(),T=e&&!e.nodeType&&e,L=T&&t&&!t.nodeType&&t,x=L&&L.exports===T,M=x&&D.process,z=function(){try{return M&&M.binding&&M.binding("util")}catch(t){}}(),F=z&&z.isTypedArray;function $(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function V(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function U(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var q,B,Y,W=Array.prototype,K=Function.prototype,G=Object.prototype,H=C["__core-js_shared__"],J=K.toString,X=G.hasOwnProperty,Q=(q=/[^.]+$/.exec(H&&H.keys&&H.keys.IE_PROTO||""))?"Symbol(src)_1."+q:"",Z=G.toString,tt=RegExp("^"+J.call(X).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),et=x?C.Buffer:void 0,nt=C.Symbol,rt=C.Uint8Array,ot=G.propertyIsEnumerable,it=W.splice,ut=nt?nt.toStringTag:void 0,at=Object.getOwnPropertySymbols,ct=et?et.isBuffer:void 0,ft=(B=Object.keys,Y=Object,function(t){return B(Y(t))}),st=Lt(C,"DataView"),lt=Lt(C,"Map"),pt=Lt(C,"Promise"),dt=Lt(C,"Set"),vt=Lt(C,"WeakMap"),yt=Lt(Object,"create"),gt=Ft(st),ht=Ft(lt),bt=Ft(pt),mt=Ft(dt),_t=Ft(vt),Ot=nt?nt.prototype:void 0,wt=Ot?Ot.valueOf:void 0;function jt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function St(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function At(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Nt(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new At;++e<n;)this.add(t[e])}function Rt(t){var e=this.__data__=new St(t);this.size=e.size}function Et(t,e){for(var n=t.length;n--;)if($t(t[n][0],e))return n;return-1}function kt(t){return null==t?void 0===t?S:h:ut&&ut in Object(t)?function(t){var e=X.call(t,ut),n=t[ut];try{t[ut]=void 0;var r=!0}catch(t){}var o=Z.call(t);return r&&(e?t[ut]=n:delete t[ut]),o}(t):function(t){return Z.call(t)}(t)}function It(t){return Kt(t)&&kt(t)==a}function Dt(t,e,n,r,u){return t===e||(null==t||null==e||!Kt(t)&&!Kt(e)?t!=t&&e!=e:function(t,e,n,r,u,f){var d=Ut(t),v=Ut(e),h=d?c:Mt(t),m=v?c:Mt(e),_=(h=h==a?b:h)==b,S=(m=m==a?b:m)==b,A=h==m;if(A&&qt(t)){if(!qt(e))return!1;d=!0,_=!1}if(A&&!_)return f||(f=new Rt),d||Gt(t)?Pt(t,e,n,r,u,f):function(t,e,n,r,u,a,c){switch(n){case R:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case N:return!(t.byteLength!=e.byteLength||!a(new rt(t),new rt(e)));case s:case l:case g:return $t(+t,+e);case p:return t.name==e.name&&t.message==e.message;case O:case j:return t==e+"";case y:var f=V;case w:var d=r&o;if(f||(f=U),t.size!=e.size&&!d)return!1;var v=c.get(t);if(v)return v==e;r|=i,c.set(t,e);var h=Pt(f(t),f(e),r,u,a,c);return c.delete(t),h;case"[object Symbol]":if(wt)return wt.call(t)==wt.call(e)}return!1}(t,e,h,n,r,u,f);if(!(n&o)){var E=_&&X.call(t,"__wrapped__"),k=S&&X.call(e,"__wrapped__");if(E||k){var I=E?t.value():t,D=k?e.value():e;return f||(f=new Rt),u(I,D,n,r,f)}}return!!A&&(f||(f=new Rt),function(t,e,n,r,i,u){var a=n&o,c=Ct(t),f=c.length;if(f!=Ct(e).length&&!a)return!1;for(var s=f;s--;){var l=c[s];if(!(a?l in e:X.call(e,l)))return!1}var p=u.get(t);if(p&&u.get(e))return p==e;var d=!0;u.set(t,e),u.set(e,t);for(var v=a;++s<f;){var y=t[l=c[s]],g=e[l];if(r)var h=a?r(g,y,l,e,t,u):r(y,g,l,t,e,u);if(!(void 0===h?y===g||i(y,g,n,r,u):h)){d=!1;break}v||(v="constructor"==l)}if(d&&!v){var b=t.constructor,m=e.constructor;b==m||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof m&&m instanceof m||(d=!1)}return u.delete(t),u.delete(e),d}(t,e,n,r,u,f))}(t,e,n,r,Dt,u))}function Pt(t,e,n,r,u,a){var c=n&o,f=t.length,s=e.length;if(f!=s&&!(c&&s>f))return!1;var l=a.get(t);if(l&&a.get(e))return l==e;var p=-1,d=!0,v=n&i?new Nt:void 0;for(a.set(t,e),a.set(e,t);++p<f;){var y=t[p],g=e[p];if(r)var h=c?r(g,y,p,e,t,a):r(y,g,p,t,e,a);if(void 0!==h){if(h)continue;d=!1;break}if(v){if(!$(e,(function(t,e){if(o=e,!v.has(o)&&(y===t||u(y,t,n,r,a)))return v.push(e);var o}))){d=!1;break}}else if(y!==g&&!u(y,g,n,r,a)){d=!1;break}}return a.delete(t),a.delete(e),d}function Ct(t){return function(t,e,n){var r=e(t);return Ut(t)?r:function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}(r,n(t))}(t,Ht,xt)}function Tt(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function Lt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!Wt(t)||function(t){return!!Q&&Q in t}(t))&&(Bt(t)?tt:E).test(Ft(t))}(n)?n:void 0}jt.prototype.clear=function(){this.__data__=yt?yt(null):{},this.size=0},jt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},jt.prototype.get=function(t){var e=this.__data__;if(yt){var n=e[t];return n===r?void 0:n}return X.call(e,t)?e[t]:void 0},jt.prototype.has=function(t){var e=this.__data__;return yt?void 0!==e[t]:X.call(e,t)},jt.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=yt&&void 0===e?r:e,this},St.prototype.clear=function(){this.__data__=[],this.size=0},St.prototype.delete=function(t){var e=this.__data__,n=Et(e,t);return!(n<0||(n==e.length-1?e.pop():it.call(e,n,1),--this.size,0))},St.prototype.get=function(t){var e=this.__data__,n=Et(e,t);return n<0?void 0:e[n][1]},St.prototype.has=function(t){return Et(this.__data__,t)>-1},St.prototype.set=function(t,e){var n=this.__data__,r=Et(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},At.prototype.clear=function(){this.size=0,this.__data__={hash:new jt,map:new(lt||St),string:new jt}},At.prototype.delete=function(t){var e=Tt(this,t).delete(t);return this.size-=e?1:0,e},At.prototype.get=function(t){return Tt(this,t).get(t)},At.prototype.has=function(t){return Tt(this,t).has(t)},At.prototype.set=function(t,e){var n=Tt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Nt.prototype.add=Nt.prototype.push=function(t){return this.__data__.set(t,r),this},Nt.prototype.has=function(t){return this.__data__.has(t)},Rt.prototype.clear=function(){this.__data__=new St,this.size=0},Rt.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Rt.prototype.get=function(t){return this.__data__.get(t)},Rt.prototype.has=function(t){return this.__data__.has(t)},Rt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof St){var r=n.__data__;if(!lt||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new At(r)}return n.set(t,e),this.size=n.size,this};var xt=at?function(t){return null==t?[]:(t=Object(t),function(e,n){for(var r=-1,o=null==e?0:e.length,i=0,u=[];++r<o;){var a=e[r];c=a,ot.call(t,c)&&(u[i++]=a)}var c;return u}(at(t)))}:function(){return[]},Mt=kt;function zt(t,e){return!!(e=null==e?u:e)&&("number"==typeof t||k.test(t))&&t>-1&&t%1==0&&t<e}function Ft(t){if(null!=t){try{return J.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function $t(t,e){return t===e||t!=t&&e!=e}(st&&Mt(new st(new ArrayBuffer(1)))!=R||lt&&Mt(new lt)!=y||pt&&Mt(pt.resolve())!=m||dt&&Mt(new dt)!=w||vt&&Mt(new vt)!=A)&&(Mt=function(t){var e=kt(t),n=e==b?t.constructor:void 0,r=n?Ft(n):"";if(r)switch(r){case gt:return R;case ht:return y;case bt:return m;case mt:return w;case _t:return A}return e});var Vt=It(function(){return arguments}())?It:function(t){return Kt(t)&&X.call(t,"callee")&&!ot.call(t,"callee")},Ut=Array.isArray,qt=ct||function(){return!1};function Bt(t){if(!Wt(t))return!1;var e=kt(t);return e==d||e==v||e==f||e==_}function Yt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=u}function Wt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Kt(t){return null!=t&&"object"==typeof t}var Gt=F?function(t){return function(e){return t(e)}}(F):function(t){return Kt(t)&&Yt(t.length)&&!!I[kt(t)]};function Ht(t){return null!=(e=t)&&Yt(e.length)&&!Bt(e)?function(t,e){var n=Ut(t),r=!n&&Vt(t),o=!n&&!r&&qt(t),i=!n&&!r&&!o&&Gt(t),u=n||r||o||i,a=u?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],c=a.length;for(var f in t)!e&&!X.call(t,f)||u&&("length"==f||o&&("offset"==f||"parent"==f)||i&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||zt(f,c))||a.push(f);return a}(t):function(t){if(n=(e=t)&&e.constructor,e!==("function"==typeof n&&n.prototype||G))return ft(t);var e,n,r=[];for(var o in Object(t))X.call(t,o)&&"constructor"!=o&&r.push(o);return r}(t);var e}t.exports=function(t,e){return Dt(t,e)}},3096:(t,e,n)=>{var r="Expected a function",o=NaN,i="[object Symbol]",u=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,f=/^0o[0-7]+$/i,s=parseInt,l="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,p="object"==typeof self&&self&&self.Object===Object&&self,d=l||p||Function("return this")(),v=Object.prototype.toString,y=Math.max,g=Math.min,h=function(){return d.Date.now()};function b(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function m(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&v.call(t)==i}(t))return o;if(b(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=b(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(u,"");var n=c.test(t);return n||f.test(t)?s(t.slice(2),n?2:8):a.test(t)?o:+t}t.exports=function(t,e,n){var o=!0,i=!0;if("function"!=typeof t)throw new TypeError(r);return b(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),function(t,e,n){var o,i,u,a,c,f,s=0,l=!1,p=!1,d=!0;if("function"!=typeof t)throw new TypeError(r);function v(e){var n=o,r=i;return o=i=void 0,s=e,a=t.apply(r,n)}function _(t){var n=t-f;return void 0===f||n>=e||n<0||p&&t-s>=u}function O(){var t=h();if(_(t))return w(t);c=setTimeout(O,function(t){var n=e-(t-f);return p?g(n,u-(t-s)):n}(t))}function w(t){return c=void 0,d&&o?v(t):(o=i=void 0,a)}function j(){var t=h(),n=_(t);if(o=arguments,i=this,f=t,n){if(void 0===c)return function(t){return s=t,c=setTimeout(O,e),l?v(t):a}(f);if(p)return c=setTimeout(O,e),v(f)}return void 0===c&&(c=setTimeout(O,e)),a}return e=m(e)||0,b(n)&&(l=!!n.leading,u=(p="maxWait"in n)?y(m(n.maxWait)||0,e):u,d="trailing"in n?!!n.trailing:d),j.cancel=function(){void 0!==c&&clearTimeout(c),s=0,o=f=i=c=void 0},j.flush=function(){return void 0===c?a:w(h())},j}(t,e,{leading:o,maxWait:e,trailing:i})}}}]);
//# sourceMappingURL=144.6df1f54375b2e7bd2429.js.map